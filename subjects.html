<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>๐ ุงููููุงุฌ ุงูุฏุฑุงุณู</title>
  <link rel="stylesheet" href="../CSS/M.css">
  <link href="https://fonts.googleapis.com/css2?family=Taj
</head>
<body>

  <div class="container">
    <h2>๐ ุงููููุงุฌ ุงูุฏุฑุงุณู</h2>
<select id="dept" required>
  <option value="">ุงุฎุชุฑ ุงููุณู</option>
  <option value="ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช">๐ป ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช</option>
  <option value="ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ">๐ผ ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ</option>
  <option value="ุนุงู">๐ ุนุงู</option>
</select>


    <div class="input-group">
      <label for="level">ุงููุณุชูู</label>
      <select id="level" required>
        <option value="">ุงุฎุชุฑ ุงููุณุชูู</option>
        <option value="1">ุงููุณุชูู ุงูุฃูู</option>
        <option value="2">ุงููุณุชูู ุงูุซุงูู</option>
        <option value="3">ุงููุณุชูู ุงูุซุงูุซ</option>
        <option value="4">ุงููุณุชูู ุงูุฑุงุจุน</option>
      </select>
    </div>

    <button onclick="showSubjects()">ุนุฑุถ ุงูููุงูุฌ</button>

    <div class="subjects" id="subjects"></div>
  </div>

  <script>
    function showSubjects() {
      const dept = document.getElementById("dept").value;
      const level = document.getElementById("level").value;
      const container = document.getElementById("subjects");
      container.innerHTML = "";

      if (!dept || !level) {
        alert("โ๏ธ ูุฑุฌู ุงุฎุชูุงุฑ ุงููุณู ูุงููุณุชูู ุฃููุงู");
        return;
      }

      fetch(`../PHP/get_subjects.php?dept=${dept}&level=${level}`)
        .then(res => res.json())
        .then(data => {
          if (data.length === 0) {
            container.innerHTML = "<p>โ ูุง ุชูุฌุฏ ููุงูุฌ ูุฑููุนุฉ ููุฐุง ุงููุณู ุฃู ุงููุณุชูู ุจุนุฏ.</p>";
          } else {
            data.forEach(sub => {
              const div = document.createElement("div");
              div.classList.add("subject");
              div.innerHTML = `
                <span>๐ ${sub.name}</span>
                <div class="actions">
                  <a href="${sub.file}" target="_blank">๐ ุนุฑุถ</a>
                  <a href="${sub.file}" download>โฌ๏ธ ุชุญููู</a>
                </div>
              `;
              container.appendChild(div);
            });
          }
        })
        .catch(err => {
          console.error(err);
          container.innerHTML = "<p>โ๏ธ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู ุงูููุงูุฌ.</p>";
        });
    }
  </script>

</body>
</html>
